<html lang="pt-BR">

<head>
	<title>Multi Translator - I Learn By Myself - V1</title>
	<!-- CSS only -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet1" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css">
	<link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
	<link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">

	<meta content="width=device-width,initial-scale=1,minimum-scale=1.0" name="viewport" />

	<style>
		@media screen and (min-width: 500px) {
			table {
				min-width: 500px;
			}

			#divLogo {
				width: auto;
			}
		}

		.title {
			padding: 0px;
			margin: 0px;
		}
	</style>
</head>

<body>
	<div class="container">
		<div class="row align-items-center">
			<div style="padding:0;" id="divLogo" class="col-1 col-2 order-1">
				<img src="{{ url_for('static', filename='img/logo-144x144.png') }}" class="img-fluid"
					alt="I Learn By Myself" />
			</div>
			<div class="col order-2">
				<h4 class="title">
					<span style="color: #3c78d8;font-size: x-large;">
						Multi Translator (v1)
						<span style="color:#6aa84f" class="bi bi-soundwave">
						</span>
					</span>
				</h4>
				<h6 class="title">
					<span style="color: #6aa84f;">
						<span class="bi bi-play-circle" aria-hidden="true"></span>
						Listen, speak, practice, when you want, where you want!
					</span>
					</h5>
			</div>
		</div>
	</div>
	<hr />

	<div class="container">
		<form onsubmit="return false;">
			<label for="textToTranslate" class="form-label" style="font-weight: bold;color: #a64d79;">Translate your
				text
				in any language 🇧🇷🇹🇭🇪🇸🇦🇷🇫🇷🇵🇱🇮🇹... listen <span style="color: #6aa84f;"
					class="bi bi-speaker"></span> and control the speed <span style="color: #6aa84f;"
					class="bi bi-speedometer"></span> <span style="color: #6aa84f;"
					class="bi bi-emoji-wink"></span></label>
			<div class="input-group">
				<input type="text" id="textToTranslate"
					placeholder="Type any text in any language and press Enter or Click to translate or use your microphone to speak"
					on class="form-control" aria-label="textToTranslate" aria-describedby="text-to-translate">
				<button type="button" id="btnTranslate" class="btn btn-primary">Translate</button>
			</div>


		</form>

		<div class="row d-none" id="alertDiv">
			<div class="col">
				<div class="alert alert-danger" role="alert">
					<span class="bi bi-exclamation-circle" aria-hidden="true"></span>
					<span class="sr-only">Error:</span>
					<span id="alertMessage"></span>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col">
				<div id="Loading" style="display:none; color: #6aa84f;font-size: larger;font-weight: bold;">
					<span>
						Loading...
					</span>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col">
				<div id='detalhesTraducao' style="display:none">
					<span style="color: #a64d79; font-size: xx-large;">Idioma detectado:</span> </b> <span
						style="color: #6aa84f; font-size: xx-large;" id="IdiomaDetectado"></span></h1>
					<br>
				</div>
				<hr>
			</div>
		</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col">
				<div id="dvTranslations" style="display:none" class="table-responsive">
					<table id="tbTranslations" class="table caption-top table-striped" style="width: auto;">
						<caption style="font-weight: bold; color: #cc0000;" id="capLanguage">Translations and Audio
						</caption>
						<thead style="color: #a64d79;font-size: larger;font-weight: bold;">
							<tr>
								<td>
									Language
								</td>
								<td>
									Translation
								</td>
							</tr>
						</thead>
						<tbody id="tbodyTranslation">
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col">
				<div id="dvInitialInfo" style="display: block;" class="alert alert-primary alert-dismissible"
					role="alert">
					<div class="embed-responsive embed-responsive-16by9">
						<video width="100%" autoplay muted loop class="embed-responsive-item">
							<source src="{{ url_for('static', filename='img/helptranslator.mp4') }}" type="video/mp4">
						</video>
					</div>
					<div>
						<p style="color: #a64d79;"><span style="font-weight: bold;">English (en)</span> - Type the text
							that you want to translate, listen it in many languages. Listen and control the speed.</p>
						<p style="color: #3c78d8;"><span style="font-weight: bold;">Portuguese - </span> Digite o texto
							que você deseja traduzir, ouça em muitos idiomas. Ouça e controle a velocidade.</p>
						<p style="color: #6aa84f;"><span style="font-weight: bold;">Thai (th)</span> -
							พิมพ์ข้อความที่คุณต้องการแปลฟังในหลายภาษา ฟังและควบคุมความเร็ว</p>
						<p style="color: #dd8603;"><span style="font-weight: bold;">Spanish (es)</span> - Escriba el
							texto que desea traducir, escúchelo en muchos idiomas. Escucha y controla la velocidad.</p>
						<p style="color: #a64d79;"><span style="font-weight: bold;">French (fr)</span> Tapez le texte que vous souhaitez traduire, écoutez-le dans de nombreuses langues.Écoutez et contrôlez la vitesse.</p>
						<p style="color: #ff6d01;"><span style="font-weight: bold;">Polish (pl)</span> - Wpisz tekst,
							który chcesz przetłumaczyć, słuchać go w wielu językach. Słuchaj i kontroluj prędkość.</p>
						<p style="color: #cc0000;"><span style="font-weight: bold;">Italian (it)</span> - Digita il
							testo che vuoi tradurre, ascoltarlo in molte lingue. Ascolta e controlla la velocità.</p>
					</div>
					<hr>
					<div>
						<p style="margin-bottom: 0px;">
							<span style="color: #a64d79;font-weight: bold;">See the Code here:</span>
							<a href="https://colab.research.google.com/github/lexvieira/MultiTranslator_WithSpeak/blob/main/MultiTranslator_WithSpeak.ipynb"
								target="_blank"><img src="https://colab.research.google.com/assets/colab-badge.svg"
									alt="Open In Colab" /></a> or on <a style="text-decoration: none;"
								href="https://github.com/lexvieira/MultiTranslator_WithSpeak" target="_blank">Github
								<span style="color: #000000;" class="bi bi-github"></span></a>
						</p>
					</div>
					<button type="button" class="btn-close float-right" data-bs-dismiss="alert"
						aria-label="Close"></button>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-12">
				<div id='dvhelpplayer' class="alert alert-warning alert-dismissible" role="alert">
					<div style="color: #a64d79;font-weight: bold;">
						1) Use the player speed to control the speed of the audio, so you can improve your listening,
						and
						practice your speaking.
						<br>
						<img src="{{ url_for('static', filename='img/playerhelp1.png') }}" alt="Help Audio Player" />
					</div>
					<div style="color: #a64d79;font-weight: bold;">
						2) Select the speed that you want to practice.
						<br>
						<img src="{{ url_for('static', filename='img/playerhelp2.png') }}" alt="Help Audio Player" />
					</div>
					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>
			</div>
		</div>
	</div>



	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<!-- JavaScript Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
	<script type="text/javascript">
		$("#textToTranslate").keypress(function (event) {
			if (event.keyCode === 13) {
				translateText();
			}
		});

		$("#btnTranslate").on('click', function () {
			translateText();
		});

		function translateText() {
			var text = $("#textToTranslate").val();
			if (text) {
				$("#alertDiv").fadeOut();
				$('#detalhesTraducao').hide();
				$('#Loading').fadeIn('slow');
				var url = '/translator?text=' + text;
				$.get(url, function (data) {
					$('#detalhesTraducao').fadeOut();
					var htmltr = "<tr><td>@language (@lang_code)</td><td>@translation</td></tr><tr><td colspan='2'><audio controls src=@Audio /></td></tr>"
					var htmlTable = ""
					var language = data.language;
					var IdiomaDetectado = language[Object.keys(language)];
					//var IdiomaDetectado = language[Object.keys(language)] + " (" + Object.keys(language)[0] + ")";
					data.translations.forEach(function (item) {
						htmlTable += htmltr
							.replace("@language", item.language)
							.replace("@lang_code", item.lang_code)
							.replace("@translation", item.translation)
							.replace("@Audio", item.audio);

					});
					$('#capLanguage').html(`${IdiomaDetectado.toUpperCase()}: ${text}`);
					$("#tbodyTranslation").html(htmlTable);
					$("#dvTranslations").attr("style", "display:block");
					$('#Loading').fadeOut('slow');
					$('#dvInitialInfo').fadeOut('slow');
					$("#textToTranslate").val("");

				});
			} else {
				$("#alertDiv").removeClass("d-none").fadeIn();
				$("#alertMessage").html("Type some Text to Translate");
			}

		}

	</script>
</body>

</html>